{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","refs","listGallery","document","querySelector","lightBoxEl","lightBoxOverlay","lightBoxImage","lightBoxButton","galleryMarkup","createGalleryMarkUp","el","map","join","onOpenModal","e","preventDefault","target","nodeName","imageRef","originalImage","dataset","source","originalAlt","alt","setLargeImageSrc","url","src","classList","add","console","log","onCLoseModal","remove","setLargeImageAlt","insertAdjacentHTML","addEventListener","code","contains"],"mappings":";;;AA2IA,aA3IA,QAAA,oBAEA,MAAMA,EAAe,CACjB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAOXC,EAAO,CACTC,YAAaC,SAASC,cAAc,eACpCC,WAAYF,SAASC,cAAc,gBACnCE,gBAAiBH,SAASC,cAAc,sBACxCG,cAAeJ,SAASC,cAAc,oBACtCI,eAAgBL,SAASC,cAAc,mCAIvCK,EAAgBC,EAAoBb,GAG1C,SAASa,EAAoBC,GACpBA,OAAAA,EAAGC,IAAI,EAAEd,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,uEAEAD,sBACrBD,kBACHE,wDAEQD,8BAIlBc,KAAK,IASR,SAASC,EAAYC,GAEhBA,GADHA,EAAEC,iBACuB,QAAtBD,EAAEE,OAAOC,SACV,OAGIC,MAAAA,EAAWJ,EAAEE,OACbG,EAAgBD,EAASE,QAAQC,OACjCC,EAAcJ,EAASK,IAOpBC,IAAiBC,EAIAF,EAJAE,EALTN,EAMfnB,EAAKM,cAAcoB,IAAMD,EAGDF,EARTD,EASftB,EAAKM,cAAciB,IAAMA,EAP3BvB,EAAKI,WAAWuB,UAAUC,IAAI,WAU9BC,QAAQC,IAAIhB,EAAEE,QAOhB,SAASe,IACP/B,EAAKI,WAAWuB,UAAUK,OAAO,WACjCR,iBAAiB,IACjBS,iBAAiB,IAvDnBjC,EAAKC,YAAYiC,mBAAmB,aAAc1B,GAgBlDqB,QAAQC,IAAI9B,EAAKC,aAIjBD,EAAKC,YAAYkC,iBAAiB,QAAStB,GA2B3CgB,QAAQC,IAAI9B,EAAKI,YAEjBJ,EAAKO,eAAe4B,iBAAiB,QAAUJ,GAC/C/B,EAAKK,gBAAgB8B,iBAAiB,QAASJ,GAQ/C7B,SAASiC,iBAAiB,UAAYrB,IACtB,WAAXA,EAAEsB,MAAqBpC,EAAKI,WAAWuB,UAAUU,SAAS,YAC7DN,EAAajB","file":"src.a608954d.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst galleryItems = [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];\n\n//   Разбей задание на несколько подзадач:\n// Создание и рендер разметки по массиву данных galleryItems из app.js и предоставленному шаблону.\n\n  const refs = {\n      listGallery: document.querySelector('.js-gallery'),\n      lightBoxEl: document.querySelector('.js-lightbox'),\n      lightBoxOverlay: document.querySelector('.lightbox__overlay'),\n      lightBoxImage: document.querySelector('.lightbox__image'),\n      lightBoxButton: document.querySelector('[data-action=\"close-lightbox\"]'),\n  };\n\n\nconst galleryMarkup = createGalleryMarkUp(galleryItems);\nrefs.listGallery.insertAdjacentHTML('afterbegin', galleryMarkup);\n\nfunction createGalleryMarkUp(el) {\n  return el.map(({preview, original, description}) => {\n  return `<li class=\"gallery__item\">\n    <a class=\"gallery__link\" href=\"${original}\">\n    <img src=\"${preview}\"\n      alt=\"${description}\"\n      class=\"gallery__image\"\n      data-source=\"${original}\" />\n    </a>\n    </li>`\n  })\n  .join('');\n};\n  \nconsole.log(refs.listGallery);\n\n// Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\n\nrefs.listGallery.addEventListener('click', onOpenModal);\n\nfunction onOpenModal(e) {\n  e.preventDefault();\n  if(e.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  const imageRef = e.target;\n  const originalImage = imageRef.dataset.source;\n  const originalAlt = imageRef.alt;\n\n  setLargeImageSrc(originalImage);  \n  setLargeImageAlt(originalAlt);\n\n  refs.lightBoxEl.classList.add('is-open');\n\n  function setLargeImageSrc(url) {\n    refs.lightBoxImage.src = url;\n    };\n      \n  function setLargeImageAlt(alt) {\n    refs.lightBoxImage.alt = alt;\n  };\n\n  console.log(e.target);\n}\nconsole.log(refs.lightBoxEl);\n\nrefs.lightBoxButton.addEventListener('click',  onCLoseModal);\nrefs.lightBoxOverlay.addEventListener('click', onCLoseModal);\n\nfunction onCLoseModal() {\n  refs.lightBoxEl.classList.remove('is-open');\n  setLargeImageSrc('');\n  setLargeImageAlt('');\n}\n\ndocument.addEventListener('keydown', (e) => {\n if (e.code === 'Escape' && refs.lightBoxEl.classList.contains('is-open')) {\n  onCLoseModal(e);\n }\n})"]}